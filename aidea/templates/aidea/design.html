{% load static %} 
{% csrf_token %}
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>デザイン</title>
    <script src="{% static 'aidea/design.js' %}" defer></script>
    <link rel="stylesheet" href="{% static 'aidea/design.css' %}">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <h1>{{item_name}}のデザインを作る</h1>
    <hr>
    <h2>デフォルトデザインのダウンロード</h2>
    <p>デザイン用の{{item_name}}の下絵をダウンロードできます。</p>

    <a href="{% static 'aidea/images/owan_base.png' %}" download="owan_base.png">
        <button>ダウンロード</button>
    </a>

    
    <h2>注意点</h2>
    <ul>
        <li>細い線よりも太く大胆な模様にすると、塗りの厚みに負けずきれいに仕上がります。</li>
        <li>彫り模様は平らな側面に入れると美しく映えます。曲面や縁は避けましょう。</li>
        <li>熱や木の動きで塗りが割れやすいので、縁や底を避けて中央部分にデザインするのがおすすめです。</li>
    </ul>
    <!--推奨質問のボタン-->
    <button class="suggest-btn" data-command="famous_design" data-item-name="{{ item_name }}">代表的な模様やモチーフは？</button>
    <button class="suggest-btn" data-command="easy_design" data-item-name="{{ item_name }}">初心者向けの簡単なデザイン案は？</button>
    <button class="suggest-btn" data-command="drawing_tips" data-item-name="{{ item_name }}">描き方のコツは？</button>
    <button class="suggest-btn" data-command="avoid_design" data-item-name="{{ item_name }}">デザインで避けるべきことは？</button>
    
    <!--チャット欄-->
    <div id="chat-box"></div>

    <!--自由入力-->
    <input type="text"  id="free-input" placeholder="メッセージを入力">
    <button id="free-btn">送信</button>

    <div id="result"></div>

    <hr>
    <h2>デザインのフィードバック</h2>
    <p>描いたデザインのイラストをアップロードして、AIからフィードバックをもらいましょう。</p>
    <input type="file" id="feedback-image-upload" accept="image/*">
    <button id="get-feedback-btn">フィードバックをもらう</button>
    
    <div id="feedback-loading" style="display: none; margin-top: 10px;">
        <p>🎨 AIがあなたのデザインを分析しています...</p>
    </div>
    <div id="feedback-result" style="margin-top: 10px; border: 1px solid #eee; padding: 10px; border-radius: 5px; background: #f9f9f9;">
        </div>

    <hr>
    <h2>デザインの投稿</h2>
</body>
</html>
