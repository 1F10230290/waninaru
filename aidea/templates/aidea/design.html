{% load static %} 
{% csrf_token %}
<!DOCTYPE html>
<html lang="ja">
<head>
    <meta charset="UTF-8">
    <title>デザイン</title>
    <script src="{% static 'aidea/design.js' %}" defer></script>
    <!--boostrap CDN経由 .js-->
    <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/js/bootstrap.bundle.min.js" integrity="sha384-geWF76RCwLtnZ8qwWowPQNguL3RmwHVBC9FhGdlKrxdiJJigb/j/68SIy3Te4Bkz" crossorigin="anonymous"></script>
    <link rel="stylesheet" href="{% static 'aidea/design.css' %}">
    <link rel="stylesheet" href="{% static 'aidea/design.css' %}">
    <!--boostrap CDN経由 .css-->
    <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.0/dist/css/bootstrap.min.css" rel="stylesheet" integrity="sha384-9ndCyUaIbzAi2FUVXJi0CjmCapSmO7SnpJef0486qhLnuZ2cdeRhO02iuK6FUUVM" crossorigin="anonymous">
    <script src="https://cdn.jsdelivr.net/npm/marked/marked.min.js"></script>
</head>
<body>
    <h1>{{item_name}}のデザインを作る</h1>
    <hr>
    <h2>デフォルトデザインのダウンロード</h2>
    <p>デザイン用の{{item_name}}の下絵をダウンロードできます。</p>

    <a href="{% static 'aidea/images/owan_base.png' %}" download="owan_base.png">
        <button>お椀のベース画像をダウンロード</button>
    </a>

        <a href="{% static 'aidea/images/osara_base.png' %}" download="osara_base.png">
        <button>お皿のベース画像をダウンロード</button>
    </a>

    
    <h2>注意点</h2>
    <ul>
        {% for tip in tips %}
            <li>{{tip}}</li>
        {% endfor%}
    </ul>
    <!--推奨質問のボタン-->
    <button class="suggest-btn" data-command="famous_design" data-item-name="{{ item_name }}">代表的な模様やモチーフは？</button>
    <button class="suggest-btn" data-command="easy_design" data-item-name="{{ item_name }}">初心者向けの簡単なデザイン案は？</button>
    <button class="suggest-btn" data-command="drawing_tips" data-item-name="{{ item_name }}">描き方のコツは？</button>
    <button class="suggest-btn" data-command="avoid_design" data-item-name="{{ item_name }}">デザインで避けるべきことは？</button>
    
    <!--チャット欄-->
    <div id="chat-box"></div>

    <!--自由入力-->
    <input type="text"  id="free-input" placeholder="メッセージを入力">
    <button id="free-btn">送信</button>

    <div id="result"></div>

    <hr>
    <h2>デザインのフィードバック</h2>
    <p>描いたデザインのイラストをアップロードして、AIからフィードバックをもらいましょう。</p>
    <input type="file" id="feedback-image-upload" accept="image/*">
    <button id="get-feedback-btn">フィードバックをもらう</button>
    
    <div id="feedback-loading" style="display: none; margin-top: 10px;">
        <p>🎨 AIがあなたのデザインを分析しています...</p>
    </div>
    <div id="feedback-result" style="margin-top: 10px; border: 1px solid #eee; padding: 10px; border-radius: 5px; background: #f9f9f9;">
        </div>

    <hr>
    <h2>アイデアの投稿</h2>
    <h3>デザインの画像ファイル</h3>
    <input type="file" id="idea_upload_img" accept="image/*">
    <br>
    <h3>デザインの説明</h3>
    <textarea id ="idea_upload_txt"></textarea>
    <br>
    <button id="idea_upload">アイデアを投稿する</button>
</body>
</html>
